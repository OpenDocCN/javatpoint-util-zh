# 防火墙身份验证

> 原文：<https://www.javatpoint.com/firebase-authentication>

![Firebase Authentication](img/638289d0f837c64b6a327693287c2ab8.png)

在当今时代，用户认证是安卓应用最重要的要求之一。对用户进行身份验证是至关重要的，如果我们必须自己编写所有这些代码，那就更难了。在 Firebase 的帮助下，这很容易做到。

*   能够安全地认证我们的用户，它根据他们的兴趣和偏好为他们提供定制的体验。
*   我们可以确保他们在从多个设备使用我们的应用时，访问他们的私人数据没有问题。
*   Firebase 身份验证提供了对用户进行身份验证的所有服务器端材料。有了软件开发工具包，Firebase 身份验证变得很容易。它使 API 易于使用。
*   Firebase Authentication 还提供了一些用户界面库，可以在我们登录时为我们启用屏幕。
*   Firebase 身份验证支持使用密码、电话号码、流行的身份提供商(如谷歌、脸书和推特等)进行身份验证。
*   我们可以让用户使用 FirebaseUI 登录我们的应用。
    *   它处理使用电子邮件地址和密码登录用户的用户界面流、电话号码和热门提供商，包括谷歌登录和脸书登录。
    *   它还可以处理像帐户恢复这样的情况。
    *   不需要设计用户界面，因为它已经为我们提供了。这意味着我们不必写活动。
*   我们还可以使用 Firebase 身份验证软件开发工具包登录用户，将一种或多种登录方法手动集成到我们的应用中。

![Firebase Authentication](img/659d8d0b5d03c5155f9e102a0942e047.png)

## Firebase 用户界面身份验证方法

Firebase UI 身份验证是向我们的应用添加完整登录系统的一种方式，Firebase 为他们提供用户界面。Firebase UI 提供了一个嵌入式身份验证解决方案，用于在移动设备和网站上实现身份验证。

Firebase 用户界面可以轻松定制，以适应我们应用的其余视觉风格。它是开源的，所以我们在修改用户体验以满足我们的应用需求方面不受限制。

使用 Firebase 用户界面身份验证有以下步骤:

*   设置登录方法:
    *   在 firebase 控制台中启用身份验证方法。
        *   对于电子邮件地址和密码，电话号码登录，以及任何身份提供者。
    *   如果有人需要身份提供者，我们必须完成配置。
        *   设置我们的 OAuth 重定向网址。
*   自定义登录用户界面。
    *   为了定制登录和用户界面，我们必须设置一些 Firebase 用户界面选项，或者在 GitHub 上分叉代码。
*   要执行登录流程，请使用 Firebase 用户界面:
    *   导入 Firebase 用户界面库。
    *   指定我们希望支持的登录方法。
    *   启动 Firebase 用户界面登录流程。

## Firebase SDK 认证方法

这是另一种类型的身份验证方法。Firebase SDK 身份验证提供了创建和管理使用其电子邮件地址和密码登录的用户的方法。SDK 还处理发送密码重置电子邮件。

*   我们还可以使用 SDK 提供电话号码认证
    *   通过向用户的手机发送短信来验证用户身份。
*   我们可以通过与身份提供者集成来验证用户。
    *   软件开发工具包提供了允许用户使用他们的谷歌、脸书、推特和 GitHub 帐户登录的方法。
*   我们可以将我们应用的现有登录系统连接到 Firebase 身份验证软件开发工具包，并访问 Firebase 实时数据库和其他 Firebase 服务。
*   我们可以创建一个临时匿名帐户来使用 Firebase 功能，这需要身份验证

使用 Firebase SDK 身份验证有以下步骤:

*   设置登录方法:
    *   我们必须在 Firebase 控制台中为电子邮件地址和密码或电话号码登录和任何身份提供者启用身份验证方法。
    *   如果身份提供者需要任何人，我们必须完成配置。
        *   设置我们的 OAuth 重定向网址。
*   为我们的登录方法实现用户界面流:
    *   对于电子邮件签名，添加提示用户键入电子邮件地址的屏幕
    *   对于电话号码登录，添加屏幕提示用户输入他们的电话号码，然后输入他们收到的短信代码。
    *   对于身份登录，实现每个提供者所需的流程。
*   将用户凭据传递给 Firebase 身份验证软件开发工具包:
    *   传递用户的电子邮件地址和密码。
    *   传递从身份提供者处获取的 OAuth 令牌。

## 身份验证是如何工作的？

*   我们首先从用户那里获取身份验证凭据，以将用户登录到我们的应用中。
    *   凭据可以是用户的电子邮件地址和密码。
    *   凭据可以是来自身份提供者的 OAuth 令牌。
*   然后，我们将这些凭据传递给 Firebase 身份验证软件开发工具包。后端服务将验证这些凭证，并向客户端返回响应。
*   成功登录后:
    *   我们可以访问用户对存储在其他 Firebase 产品中的数据的访问。
    *   我们可以访问用户的基本个人资料信息。
    *   我们可以在自己的后端服务中使用提供的身份验证令牌来验证用户的身份。
*   经过身份验证的用户可以向 Firebase 实时数据库和云存储读写数据。
    *   我们可以通过修改 Firebase 数据库规则和存储安全规则来控制那些经过身份验证的用户的访问。

## 用户

*   Firebase 用户对象表示在 Firebase 项目中注册应用的用户的帐户。应用有许多注册用户，Firebase 项目中的每个应用都共享一个用户数据库。
*   基础用户实例独立于基础授权实例。这意味着我们可以在同一个上下文中引用不同的用户，并且仍然调用他们的任何方法
*   Firebase 用户有一组固定的基本属性，如唯一标识、主电子邮件地址、姓名和照片网址。
*   首先，用户注册应用。如果使用电子邮件/密码身份验证，用户的配置文件数据将填充主电子邮件地址，如果使用身份验证，则填充提供商提供的帐户信息，如果使用自定义身份验证，则填充我们想要的任何内容。
*   当用户注册或登录时，该用户成为授权实例的当前用户。
*   身份验证实例停止以保持对用户对象的引用。当用户注销时，它不再持续显示:
    *   没有当前用户
    *   用户实例继续完全正常工作
    *   如果我们保持对它的引用，我们仍然可以访问和更新用户的数据。
*   使用侦听器是跟踪授权实例当前状态的推荐方法。
    *   当身份验证对象发生相关事件时，身份验证侦听器会随时收到通知。

## 用户生命周期

*   在以下情况下，身份验证侦听器会收到通知
*   身份验证对象完成初始化，并且用户已经从以前的会话登录，或者已经从身份提供者的登录流重定向
*   用户登录。
*   用户注销。
*   刷新当前用户的访问令牌:
    *   访问令牌过期。
    *   用户更改他们的密码。
    *   用户重新认证

* * *