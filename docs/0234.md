# Linux 中的 Ping 命令

> 原文:[https://www.javatpoint.com/ping-command-in-linux](https://www.javatpoint.com/ping-command-in-linux)

## 平指挥简介

**Ping** 是**分组互联网 Groper** 的简称。此命令主要用于检查主机/服务器和主机之间的网络连接。ping 命令将 URL 或 IP 地址作为输入，并将数据包连同**“PING”**消息一起传输到指定的地址。然后，它会收到主机/服务器的回复。这个时间被称为**“等待时间”**。

#### 注意:低延迟和快速 ping 意味着更快的连接。

[Linux](https://www.javatpoint.com/linux-tutorial) 的大部分用户习惯于等待 ping 命令。几乎每个用户都知道如何以通用形式使用这个命令。但是，ping 命令中有几个附加的变体和选项。

在本文中，我们将通过使用 Linux 的一些最有用的 ping 命令并结合示例进行解释。

这些 [ping 命令](https://www.javatpoint.com/linux-ping)将适用于任何 Linux 或 Unix 发行版。我们用来提供输出样本和例子的测试系统是 Ubuntu 20.04 LTS。

### 先决条件

*   对命令行的访问
*   类似 Unix 或 Linux 的系统
*   拥有执行命令的基本权限的用户

## 平指挥部的工作

在 Linux 中，ping 命令是一个通用实用程序，用于检查是否存在任何网络以及主机是否可用。我们可以使用这个命令测试服务器是否启动并执行。此外，它还有助于解决几个连接问题。

ping 命令允许我们:

*   测试我们的互联网连接。
*   检查远程机器是否处于活动状态。
*   分析何时出现网络问题，如高延迟或数据包丢失。

当我们试图“ping”远程主机时，我们的机器开始传输 ICMP 回应请求，并延迟响应。当建立连接时，我们将得到所有请求的回应。

ping 命令的结果包括所有数据包到达目标并返回所需的时间。此外，终端打印回复，直到中断。有些线路在所有会话后都使用 ping 统计信息。

## Ping 命令用法

ping 命令的基本语法包含主机名、网站名称或确切的 IP 地址所要求的 ping。

**语法:**

```

ping [options] hostname or IP address 

```

因此，我们可以在我们的终端内输入，以检查远程主机是否启动:

```

ping javatpoint.com

```

![Ping command in Linux](../Images/e65ae30a0334c294b66f2d2d0998dfda.png)

为了停止这个过程，我们可以使用 Ctrl+C 键。

*   **from:** 告知目标及其 IP 地址。
    **重要提示:**根据我们的地理位置，任何网站的 IP 地址都可能不同。
*   **ttl=52:** 它告诉值，即生存时间从 1-255。此外，它还指示数据包在被任何路由器删除之前可能经过的网络跳数。
*   **icmp_seq=1:** 它告诉所有 icmp 数据包的序列号。对于所有后续的回显请求，它都会增加一个数字。
*   **时间=7.68 ms:** 它告诉时间，到达目标并返回原点需要花费任何数据包。它以毫秒表示。

## ping 命令的示例

### ping“本地主机”检查本地网络

如果我们发现问题到达远程机器或网站，我们可以 ping 本地主机，以确保我们有网络连接。我们可以使用以下任何一种方法来检查本地网络的接口:

*   **ping 0:** 这是 ping 本地主机最快的选项之一。一旦我们输入该命令，终端将解析确定 IP 地址并给出响应。
*   **ping localhost:** 我们可以使用 ping localhost 的名称。这个名字指的是我们的系统，当我们输入这个命令时，我们会说**“ping 这个系统”**。
*   **ping 127.0.0.1:** 少数人更喜欢输入 IP 地址来 ping 本地主机。

#### 注意:无论我们选择哪个选项，ping 结果看起来都是相似的。

**示例如下:**

```

ping localhost

```

![Ping command in Linux](../Images/eac5c1796aa506fd2f7cb5834486e502.png)

## 互联网协议规范

IPv6 是取代 IPv4 的 [IP](https://www.javatpoint.com/ip) 地址的字母数字格式。其原因是存在受限的 IPv4 地址号。

要请求 [IPv4 或 IPv6](https://www.javatpoint.com/ipv4-vs-ipv6) 地址，我们可以在 IP/主机名之前或 ping 命令之后添加-4 或-6。

```

ping -4 hostname/IPv4
ping -6 hostname/IPv6

```

## 修改 Ping 数据包之间的时间间隔

所有 ping 请求之间的间隔(默认)为一秒钟。我们可以借助一个被称为“I”的开关来减少或增加时间。

我们使用小于 1 的值来缩短 ping 时间间隔:

```

ping -i 0.5 javatpoint.com

```

![Ping command in Linux](../Images/4a21ad1a387a956756623192ab97fc5e.png)

我们可以使用大于 1 的值来增加 ping 时间间隔。

## 用 ping 淹没网络

我们可以应用 ping flood 来测试我们的网络在高负载下的性能。ping flood 中的一个选项，即-f 需要 root 才能运行。否则，我们也可以在 ping 命令中使用 sudo 选项来泛洪主机。它会尽快传输几个数据包。

命令如下:

```

sudo ping -f hostname-IP

```

结果为所有传输的数据包打印一个点，为所有响应打印退格。统计信息行显示 ping 命令摘要。

## 更改 ping 数据包的大小

在这种情况下，我们可能希望通过 56 (84)字节的默认值应用-s 来增加数据包的大小。在括号中，数字说明了传输的 ping 字节，包括头包 28 字节。

例如，要将数据包的大小增加到 1000 字节，我们可以使用以下命令:

```

ping -s 1000 javatpoint.com

```

![Ping command in Linux](../Images/d149cdc1d0a845834926fd0a022fce80.png)

如果分析网络性能，此命令很有帮助。如果我们将数据包的大小增加到几千字节，我们可以分析网络链路何时减速。

## 如何固定 ping 号码

ping 命令的设置(默认)是保留请求，直到我们中断它。我们可以借助以下两种方法来固定 ping 号码:

### 1.Ping 数据包的限制计数

我们可以使用-c 选项和一个数字，在 ping 命令传输可能数量的数据包后自动停止。它设置所需的 ping 请求量，如下例所示:

```

ping -c 2 javatpoint.com

```

![Ping command in Linux](../Images/843e352826bb554ea80e9da30d958484.png)

ping 命令将在任何两个请求后停止传输数据包，正如我们在上面的截图中看到的。

### 2.修复 ping 命令中的时间限制

我们可以在命令中包含-w 和以秒为单位的时间间隔，以便在特定时间后停止获取 ping 结果。

例如，我们可以键入 ping 命令，在 25 秒后停止打印 ping 输出:

```

ping -w 25 javatpoint.com

```

![Ping command in Linux](../Images/090b7366d28efa79be850004643d8f2d.png)

## ping 命令的其他用途

仅打印汇总统计信息时禁止 Ping 结果

如果我们不想让屏幕上显示所有数据包的详细信息，请使用-q 选项来显示唯一的摘要。

-q 开关打印一行和常规 ping 详细信息，然后在最后给出统计信息。在这个命令中，“q”字母是“quiet”结果的缩写。

```
ping -c 10 -q youtube.com

```

![Ping command in Linux](../Images/dffb107ff36f26ef95ed8bee23ac1f2f.png)

通常，我们用其他选项添加安静的结果。在这种情况下，我们将修复发送 10 个数据包的 ping，并抑制结果。

## 在 ping 结果中每行之前包含时间戳

如果我们希望记住运行 ping 命令的白天，我们可以按如下方式添加-D 开关:

```

ping -D youtube.com

```

![Ping command in Linux](../Images/d67b0521292e0bdbe360c3fb0c7fabb9.png)

它将在每一行之前以 Unix 格式打印时间戳。

#### 注意:我们要求使用大写的 D，因为这些命令区分大小写。

## 如果主机可用，可听到 Ping 声

当我们使用-a 选项时，如果有来自主机的回复，系统将播放声音。如果我们正在排除网络故障，并且不希望看到我们的屏幕，直到有答复，声音 ping 是有帮助的。

```

ping -a youtube.com

```

![Ping command in Linux](../Images/85f630f0f4033b0d5d6d156e50237206.png)

结果类似于任何常规 ping 命令的结果。

## 显示 Ping 版本

我们可以检查我们系统上的 ping 工具版本。我们还可以将-V 选项附加到 ping 命令中，以显示该实用程序版本。

命令如下:

```

ping -V youtube.com 

```

![Ping command in Linux](../Images/a623227e01fd2a0d91039eb1c53ddbcd.png)

## 最常用的 Ping 命令

以下是一些常用的 ping 命令:

**a-** 如果可以联系到对方，它会发出声音。

**b-** 它允许 ping 广播的 IP 地址。

**B-** 防止 ping 改变探测源地址。

**c-** 它限制传输的 ping 请求的数量。

**d-** 它设置一个选项，即在使用的套接字上进行 SO-DEBUG。

**f-** 它通过每秒传输几个数据包来淹没网络。

**i-** 它描述了包的连续传输之间的间隔。一秒钟是默认值。

**I-** 将源的 IP 地址设置为描述的接口的 IP 地址。如果检测到缺少 IPv6 链路地址，则需要此选项。我们可以使用设备的名称或 IP 地址。

**l-** 它指定了几个要传输的数据包，而不会延迟响应。

**q-** 它在 ping 的输出中显示 IP 地址，而不是主机名。

**T-** 它确定生存时间。

**v-** 给出详细输出。

**V-** 它显示 ping 的版本，并退出到较新的命令提示符行。

* * *