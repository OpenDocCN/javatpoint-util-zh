# Bash 哈希命令

> 原文:[https://www.javatpoint.com/bash-hash-command](https://www.javatpoint.com/bash-hash-command)

在类似 UNIX 的操作系统上，**哈希**是 bash shell 的**内置**命令，用于列出最近执行的命令的哈希表。它用于在 bash 路径哈希中查看、重置或手动更改。它保存最近执行的程序的位置，并在我们想看的时候显示它们。它提供了每个命令名的完整路径名。

换句话说，当执行任何命令而不命名其路径时，shell 开始在路径变量中列出的目录中搜索该命令。当 Bash 获得该命令时，它会将该位置保存在哈希表中，以便记住该命令的位置。之后，Bash 开始检查表来查找命令的位置，而不是再次查找命令。它使命令运行得更快。但是，如果命令在表中记录其位置后被移动，外壳将无法找到该命令。在这种情况下，将对路径中的目录进行完全搜索，以获取命令数据。

内置的“hash”命令负责维护哈希表。在没有任何开关的情况下，hash 会列出以前使用过的命令、它们的位置以及它们在会话期间被执行的次数。

### 句法

```

hash [-l] [-r] [-p pathname] [-d] [-t] [command_name . . .]

```

上面的语法用于确定和记住每个 command_name 的完整路径名。如果没有参数，它将显示有关以前使用的命令及其位置的信息。

## 选择

| **-d** | 忘记 command_name 的记忆位置。 |
| **-l** | 显示可再次用作另一程序输入的信息。 |
| **-p** | 使用路径名作为命令名的完整路径。 |
| **-r** | 忘记所有记得的地点。 |
| **-t** | 打印每个命令名的记忆位置。如果给定了多个命令名，请在每个位置前面加上相应的命令名 |
| **命令 _ 名称** | 在路径环境变量中搜索指定的每个命令名，如果找到，则添加到记住的命令列表中。 |

## 退出状态

哈希命令返回“0”表示成功。非零值表示找不到 command_name，或者给出了无效选项。

## 列表 Bash 哈希表

We can display the hash table for the current session by invoking hash without any argument.

```

hash

```

![Hash Command](../Images/cbed0f4ed07608ef3782bde5b500b75a.png)

在这里，hash 命令显示命中次数(对该命令的调用)以及会话期间该命令及其路径。所有命中的总和被认为是通过路径保存的搜索的数量。

#### 注意- 如果在没有执行命令的地方打开了一个新的会话，那么该会话将没有哈希表。输出如下所示:

![Hash Command](../Images/82d92b34f826cc4a61850df61aab1ba9.png)

如果我们使用 **-l 选项**，那么它会以一种可以作为输入的格式显示一个哈希表，即，

```

hash -l

```

![Hash Command](../Images/b4ada65496640720edac106a3614ac70.png)

我们也可以使用 **-t** 选项打印会话期间使用的命令的记忆位置。

![Hash Command](../Images/677d2caaa289a43c7c13e63e794806b7.png)

我们还可以打印由空格分隔的多个命令的位置，即，

![Hash Command](../Images/0bcd26b292fb71b47bcf76c9477c7004.png)

## 向 Bash 哈希表添加命令路径和名称

我们可以向哈希表中添加可以在 shell 中再次使用的项目。应该记住，哈希表只存在于 shell 的当前活动会话中。如果我们打开一个新的 shell，bash 将根据该 shell 执行的命令创建一个新的哈希表。

一旦我们开始运行第一个命令，bash 就开始创建哈希表。要向哈希表添加命令，我们可以使用-p 选项，后跟路径和名称。这样，我们就可以像使用别名一样使用哈希表。下面是一个例子，我们将 **/home/bash.sh** 脚本添加到名为“ **bash** 的哈希表中。

![Hash Command](../Images/83488ca0880397a8088c4a2855c5227e.png)

将/home/bash.sh 添加到映射名为“bash”的哈希表中后，我们可以通过名称“bash”直接调用它:

![Hash Command](../Images/7f1c4abd20e1c2b2df2554070554fb1b.png)

Bash 检查哈希表中的命令名以找到可执行文件。通常，没有必要将脚本放在路径中，除非我们希望它在新的 shell 中可用。

## 从哈希表中删除项目

我们还可以选择删除或忘记 hash bash 中命令的记忆位置。我们可以简单地使用名称后面的 **-d** 选项来执行此任务:

![Hash Command](../Images/29b81dac9245cc5e4f04d8de3d6a2da0.png)

这里我们从哈希表中删除了 **/home/bash.sh** ，映射了一个名字为“ **bash** ”。

## 清除哈希表

要清除散列表，我们可以使用 **-r** 选项。

![Hash Command](../Images/09b8a5fcd49664c6304c98f8347a8b11.png)

这里可以看到使用-r 选项成功清除了哈希表。

* * *