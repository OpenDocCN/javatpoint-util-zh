# Git Rm

> 哎哎哎:# t0]https://www . javatppoint . com/git-RM

在 Git 中，术语 rm 代表移除。它用于删除单个文件或文件集合。git rm 的关键功能是从 git 索引中移除跟踪的文件。此外，它还可以用来从工作目录和临时索引中删除文件。

要删除的文件必须是分支要删除的理想文件。不能在索引中暂存对其内容的更新。否则，移除过程可能会很复杂，有时不会发生。但是可以通过 **-f** 选项强有力的完成。

我们用一个例子来理解。

## git rm 命令

git rm 命令用于从工作树和索引中移除文件。

如果我们想从存储库中移除文件。然后可以通过 git rm 命令来完成。让我们用一个文件 newfile.txt 来测试 rm 命令。git rm 命令的操作方式如下:

```

$ git rm <file Name>

```

上面的命令将从 Git 和存储库中删除该文件。git rm 命令不仅从存储库中删除文件，还从暂存区删除文件。如果我们检查存储库的状态，那么它将显示为已删除。考虑以下输出:

![Git Rm](../Images/d6a884128f3012ae5ea98388a00a24f8.png)

在上面的输出中，文件 **newfile.txt** 已经从版本控制系统中删除。因此存储库和状态显示为已删除。如果我们只使用**RM 命令**，那么它不会从 Git 中永久删除文件。可以在集结地追踪到。考虑以下输出:

![Git Rm 1](../Images/f1b9ef3b58ce22d4964f3aa76ee013e6.png)

在上面的输出中，文件 newfile2.txt 已经被删除。但是当我们检查存储库的状态时，我们可以跟踪暂存区中的文件。这意味着 newfile2 尚未从临时区域中删除，它也可以在存储库中找到。我们可以通过提交它来让它回到版本控制系统上。要提交文件，首先将其添加到索引中，然后提交。要将此文件添加到索引中，请运行以下命令:

```

$ git add newfile2.txt

```

上面的命令将文件添加到索引中。要提交它，请运行以下命令:

```

$ git commit -m "commit message."

```

它将提交文件，并使其对版本控制系统可用。考虑以下输出:

![Git Rm 2](../Images/066f5d882949189a916ada5781f7f61e.png)

在上面的输出中，我们将文件从暂存区检索到我们的目录中。newfile2.txt 被重新添加到我们的存储库中。

* * *

## Git Rm Cached

有时您想从 Git 中移除文件，但是将文件保存在本地存储库中。换句话说，你不想在 Git 上共享你的文件。Git 允许您这样做。在这种情况下使用缓存选项。它指定删除操作将只作用于临时索引，而不是存储库。带有缓存选项的 git rm 命令将用作:

```

$ git rm --cached <file name> 

```

上述命令将从版本控制系统中删除一个文件。删除的文件将保留在存储库中。不知何故，这个命令将充当 rm 命令。我们用一个例子来理解。

假设我们想从 Git 中删除一个文件，取 **newfile1.txt** 进行操作删除这个文件，使用下面的命令:

```

$ git rm --cached newfile1.txt

```

上面的命令将从版本控制系统中删除该文件，但是它仍然可以在存储库中被跟踪。也可以在版本控制系统上重新添加。要检查文件状态，请使用 status 命令作为:

```

$ git status

```

考虑以下输出:

![Git Rm 3](../Images/161f1bfafb2547510ab2dfe0c5b0d3e5.png)

从上面的输出中我们可以看到，newfile1.txt 文件从版本控制系统中被删除了，但是它可以在存储库中被跟踪。该文件在版本控制系统上作为未跟踪文件可用。我们可以通过提交来追踪它。

## 撤消 Git Rm 命令

git rm 命令的执行不是永久的；它可以在执行后还原。在对存储库进行新的提交之前，这些更改无法持久化。我们可以撤销 git rm 命令。有几种方法可以做到这一点。最常见和最直接的方法是 git reset 命令。git 复位命令将按如下方式使用:

```

$ git reset HEAD

```

或者我们也可以使用:

```

$ git reset --hard

```

上述命令将重置头部的位置。这样它就能得到前一点的位置。考虑以下输出:

![Git Rm 4](../Images/787a3511cdc54714638b421180c61327.png)

从上面的输出中，我们可以看到该文件已成功重置到其先前的位置。

还有一种方法可以撤销 git rm 命令。我们也可以通过 git checkout 命令来实现。签出具有相同的效果，并且从 HEAD 恢复文件的最新版本。它将按如下方式使用:

```

$ git checkout. 

```

## Git Rm 命令的限制

git rm 仅在当前分支上运行。删除过程仅适用于工作目录和临时索引树。在创建新的提交之前，它不会保留在存储库历史记录中。

* * *